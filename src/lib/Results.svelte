<script>
    export let scoreAnsiedade;
    export let resetQuiz;
    import { base } from "$app/paths";
  </script>
  
  <div class="results-page">
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    
    <svg class="trophy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="8" r="7"></circle>
      <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
    </svg>
    
    <h2>Envio finalizado! üéâ</h2>
    
    <div class="result-container">
      <div class="score-display">
        <h3>Sua pontua√ß√£o em Ansiedade:</h3>
        <div class="score-value">{scoreAnsiedade} pontos</div>
      </div>
      
      {#if scoreAnsiedade <= 12}
        <div class="result-message result-good">
          <h3>Ansiedade Leve</h3>
          <p>A ansiedade leve √© uma sensa√ß√£o natural de nervosismo ou preocupa√ß√£o que acontece em situa√ß√µes como provas, entrevistas ou mudan√ßas importantes na vida. Ela pode causar um pouco de inquieta√ß√£o ou preocupa√ß√£o, mas n√£o atrapalha as atividades di√°rias, inclusive √© saud√°vel e ajuda nos processos ps√≠quicos.</p>
        </div>
      {:else if scoreAnsiedade <= 25}
        <div class="result-message result-warning">
          <h3>Sinais de Alerta para Ansiedade</h3>
          <p>Quando a ansiedade dura muito tempo ou come√ßa a afetar suas atividades di√°rias √© um sinal de que algo mais s√©rio pode estar acontecendo. Sintomas como dificuldade para dormir, preocupa√ß√£o constante, tens√£o no corpo, altera√ß√µes no apetite ou libido, baixa concentra√ß√£o ou medo excessivo s√£o sinais de alerta.</p>
        </div>
      {:else}
        <div class="result-message result-alert">
          <h3>Requer aten√ß√£o para a ansiedade</h3>
          <p>Se a ansiedade come√ßar a atrapalhar sua rotina ou se os sintomas citados no sinal de alerta persistirem, √© importante buscar a ajuda profissional. A psicoterapia e em alguns casos medicamentos, podem ajudar a controlar a ansiedade e melhorar sua qualidade de vida. Resistir a buscar ajuda, pode trazer s√©rios preju√≠zos. Cuidar da sa√∫de mental n√£o √© fraqueza, √© vida.</p>
        </div>
      {/if}
    </div>
    
    <div class="result-actions">
      <button class="restart-btn" on:click={resetQuiz}>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
          <path d="M3 3v5h5"></path>
        </svg>
        Responder Novamente
      </button>
      <a href="{base}/" class="home-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        Voltar ao In√≠cio
      </a>
    </div>
  </div>
  
  <style>
    .results-page {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
  
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #f00;
      opacity: 0.5;
      animation: confetti 5s ease-in-out infinite;
    }
  
    @keyframes confetti {
      0% { transform: translateY(0) rotate(0deg); }
      100% { transform: translateY(100vh) rotate(720deg); }
    }
  
    .trophy-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 1rem;
      display: block;
    }
  
    .result-container {
      text-align: center;
      margin: 1.5rem auto;
      max-width: 600px;
    }
  
    .score-display {
      margin-bottom: 1.5rem;
    }
  
    .score-value {
      font-size: 2rem;
      font-weight: bold;
      color: #3f51b5;
      margin: 0.5rem 0;
    }
  
    .result-message {
      padding: 1.5rem;
      border-radius: 8px;
      margin: 1rem 0;
      text-align: left;
    }
  
    .result-good {
      background-color: #e8f5e9;
      border-left: 5px solid #4caf50;
    }
  
    .result-warning {
      background-color: #fff8e1;
      border-left: 5px solid #ffc107;
    }
  
    .result-alert {
      background-color: #ffebee;
      border-left: 5px solid #f44336;
    }
  
    .result-actions {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }
  
    .restart-btn, .home-btn {
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      text-decoration: none;
    }
  
    .restart-btn {
      background-color: #3f51b5;
      color: white;
      border: none;
    }
  
    .home-btn {
      background-color: #f5f5f5;
      color: #333;
      border: 1px solid #ddd;
    }
  </style>